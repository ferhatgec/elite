set ProjectName as "Elitebuild"

set COMPILER    as "gcc"
set fn          as "for"
set commandline as "argument"
set echo        as "println"
set make_arg    as "make"

set Linux       as "linux"
set FreeBSD     as "freebsd"

\\set arguments as string (
\\    "example.cpp",
\\    "main.cpp"
\\)

\\ set flags as string (
\\    f("curl")
\\)

// Start signal
$fn signal "start" [
    $echo "Hello, {ProjectName}!"

    println "Default compiler is: {COMPILER}"

    set echo as "print"

    $echo "Huh!"

    set echo as "println"

    \\ Prints newline
    $echo

    \\ Platform-specific functions.
    $fn specific "{Linux}"   [
        println "Linux-based"
    ]

    for $commandline "{make_arg}" [
        println "There's nothing to do."
    ]

    for argument "hi" [
        println "Hi!"
    ]

    for specific "{FreeBSD}" [
        println "{FreeBSD}"
    ]

    \\for argument("make") [
    \\    for specific("linux") [
    \\        use commandline(
    \\            $COMPILER,
    \\            $arguments,
    \\            $flags
    \\        )

    \\        print "hello, world"
    \\
    \\        use commandline(
    \\            "echo",
    \\            "hello, world"
    \\        )
    \\    ]
    \\]

    \\ {...} default formatter
    for specific "{Linux}"   [ use exec   "echo Hello, Elitebuild from syscall! (for Linux-based)" ]

    for specific "{FreeBSD}" [ use exec   "echo Hello, Elitebuild from syscall! (for FreeBSD)" ]

    for specific "{Linux}"   [ use exec   "uname --a" ]

    for specific "linux"     [ use signal "exit" ]
]